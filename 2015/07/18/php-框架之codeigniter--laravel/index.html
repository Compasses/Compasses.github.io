
<!DOCTYPE html>
<html lang="en-EN">
<head>

  
  <meta charset="UTF-8">
  <title>
    PHP 框架之CodeIgniter &amp; Laravel | 三十重围
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">

  
  <link rel="canonical" href="http://www.heguangnan.com/2015/07/18/php-%E6%A1%86%E6%9E%B6%E4%B9%8Bcodeigniter--laravel/"/>

  
  <link rel="stylesheet" href="/css/sanitize.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/highlight_monokai.css">
  <link rel="stylesheet" href="/css/theme.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  
  <link href="http://www.heguangnan.com/index.xml" rel="alternate" type="application/rss+xml" title="三十重围" />
  <link href="http://www.heguangnan.com/index.xml" rel="feed" type="application/rss+xml" title="三十重围" />

  
  <script type="text/javascript">var switchTo5x=true;</script>
  <script type="text/javascript" src="https://ws.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "2b9fffc6-b3fe-4988-a0ef-4f9dcce98eaa", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script>


</head>



<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="http://www.heguangnan.com/">三十重围</a></h1>
        <h2>并蓄 | 共享</h2>
      </div>
      <div id="social" class="col span_6">
        <ul>
          
          
          <li><a href="https://github.com/compasses" target="_blank">GitHub</a></li>
          
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>PHP 框架之CodeIgniter &amp; Laravel</h1>
      <div class="meta">
        Jul 18, 2015 &nbsp;
        
          #<a href="/tags/php">PHP</a>&nbsp;
        
      </div>
    </div>
    <article>
      

<h1 id="说明:08afb798474a9037df6f2df800659b05">说明</h1>

<p>最近产品考虑更换前端框架，重点考察了CodeIgniter 和 Laravel两个框架，现对其进行下对比分析。</p>

<h1 id="总体对比:08afb798474a9037df6f2df800659b05">总体对比</h1>

<table>
<thead>
<tr>
<th></th>
<th align="left">CodeIgniter</th>
<th align="center">Laravel</th>
</tr>
</thead>

<tbody>
<tr>
<td>Document</td>
<td align="left">Good enough</td>
<td align="center">Good enough</td>
</tr>

<tr>
<td>Performance</td>
<td align="left">差不多 3倍于 Laravel</td>
<td align="center"></td>
</tr>

<tr>
<td>MVC</td>
<td align="left">Good enough</td>
<td align="center">Good enough</td>
</tr>

<tr>
<td>TWIG</td>
<td align="left">自己添加 TWIG lib</td>
<td align="center">使用三方插件</td>
</tr>

<tr>
<td>third-party</td>
<td align="left">自己添加，放到指定目录</td>
<td align="center">composer managment</td>
</tr>

<tr>
<td>Route</td>
<td align="left">default mapping ：&raquo;example.com/class/function/id/&raquo; can be remap, more code than Laravel</td>
<td align="center">Simple and clear</td>
</tr>

<tr>
<td>summary</td>
<td align="left">简单 精巧</td>
<td align="center">易用，更为丰满</td>
</tr>
</tbody>
</table>

<p>CodeIgniter 基本上是个MVC的空架子，代码量极小，开发的花基本上 100%的掌控在自己手里。 Laravel还是加载了不少的三方 component，比CodeIgniter 庞大些。
对MVC的支持都很清晰，URL的路由也很简单易扩展。</p>

<h1 id="测试环境:08afb798474a9037df6f2df800659b05">测试环境：</h1>

<p>主要是使用了Laravel 的HomeStead环境，通过virtual box + vagrant标准用法，加载Laravel的框架代码；要使其加载CodeIgniter框架，需要修改Nginx的配置，增加新的server，只要端口号换成新的，root指定到CodeIgniter的跟目录即可。
总体上是Nginx+php5-fpm+mysql+ Ubuntu + CodeIgniter 源码包 + Laravel 源码包。源码包共享在本机上。</p>

<h1 id="测试页面:08afb798474a9037df6f2df800659b05">测试页面：</h1>

<p>Modal：使用product数据，获取某个product上的所有信息。
View：引入Twig模板引擎，创建几个twig模板，在controller层render。
Controller：调用modal获取数据，使用 twig render 页面。</p>

<p>这两个框架都用非常清晰的 MVC结构，上述页面的代码几乎可以在两者之间无缝迁移。</p>

<h1 id="性能对比测试:08afb798474a9037df6f2df800659b05">性能对比测试：</h1>

<p>针对这个页面进行性能测试：页面大小为 8KB， 加载一个已有的CSS文件大小为 87.7KB。
使用Apache的ab test进行测试：
AB test:
ab -n 1000 -c 80 <a href="http://192.168.10.10:8080/productdetail/">http://192.168.10.10:8080/productdetail/</a></p>

<h2 id="laravel-结果:08afb798474a9037df6f2df800659b05">Laravel 结果:</h2>

<p>Server Software:        nginx/1.8.0
Server Hostname:        192.168.10.10
Server Port:            80</p>

<p>Document Path:          /product/
Document Length:        200205 bytes</p>

<p>Concurrency Level:      80
Time taken for tests:   112.455 seconds
Complete requests:      1000
Failed requests:        0
Total transferred:      200793036 bytes
HTML transferred:       200205000 bytes
Requests per second:    8.89 <a href="mean">#/sec</a>
Time per request:       8996.416 <a href="mean">ms</a>
Time per request:       112.455 <a href="mean, across all concurrent requests">ms</a>
Transfer rate:          1743.69 [Kbytes/sec] received</p>

<p>Connection Times (ms)</p>

<p>min  mean[+/-sd] median   max
Connect:        0    1   1.0      0      18
Processing:  2001 8604 1574.3   8488   17271
Waiting:     1999 8594 1572.4   8480   17269
Total:       2005 8604 1574.0   8490   17271
WARNING: The median and mean for the initial connection time are not within a normal deviation</p>

<p>These results are probably not that reliable.</p>

<p>Percentage of the requests served within a certain time (ms)</p>

<p>50%   8490</p>

<p>66%   8695</p>

<p>75%   8960</p>

<p>80%   9098</p>

<p>90%   9951</p>

<p>95%  12074</p>

<p>98%  12548</p>

<p>99%  12944</p>

<p>100%  17271 (longest request)</p>

<h2 id="codeigniter-结果:08afb798474a9037df6f2df800659b05">CodeIgniter 结果:</h2>

<p>Server Software:        nginx/1.8.0
Server Hostname:        192.168.10.10
Server Port:            8080</p>

<p>Document Path:          /productdetail/
Document Length:        200205 bytes</p>

<p>Concurrency Level:      80
Time taken for tests:   40.332 seconds
Complete requests:      1000
Failed requests:        0
Total transferred:      200341000 bytes
HTML transferred:       200205000 bytes
Requests per second:    24.79 <a href="mean">#/sec</a>
Time per request:       3226.569 <a href="mean">ms</a>
Time per request:       40.332 <a href="mean, across all concurrent requests">ms</a>
Transfer rate:          4850.86 [Kbytes/sec] received</p>

<p>Connection Times (ms)</p>

<p>min  mean[+/-sd] median   max
Connect:        0    1   1.3      0      23
Processing:   346 3097 456.3   3169    3649
Waiting:      343 3089 455.7   3161    3645
Total:        351 3098 455.5   3170    3649</p>

<p>Percentage of the requests served within a certain time (ms)</p>

<p>50%   3170</p>

<p>66%   3216</p>

<p>75%   3250</p>

<p>80%   3270</p>

<p>90%   3326</p>

<p>95%   3467</p>

<p>98%   3551</p>

<p>99%   3582</p>

<p>100%   3649 (longest request)</p>

<h1 id="总结:08afb798474a9037df6f2df800659b05">总结</h1>

<p>CodeIgniter 更轻便，代码可以做到100%掌控；Laravel相比CodeIgniter更加丰满些，使用composer管理扩展性增强了不少。
如果选择从头开始的话，感觉CodeIgniter更好些。</p>


      
      <div id="share-this" class="col span_10">
        <span class='st_twitter_large' displayText='Tweet'></span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_googleplus_large' displayText='Google +'></span>
        <span class='st_pocket_large' displayText='Pocket'></span>
        <span class='st_sharethis_large' displayText='ShareThis'></span>
        <span class='st_email_large' displayText='Email'></span>
      </div>
    </article>
    
    
	<div class="ds-thread" data-thread-key="" data-title="PHP 框架之CodeIgniter &amp; Laravel" data-url="http://www.heguangnan.com/2015/07/18/php-%E6%A1%86%E6%9E%B6%E4%B9%8Bcodeigniter--laravel/"></div>


<script type="text/javascript">
var duoshuoQuery = {short_name:"compasses"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>


  </main>

  <nav class="pagination">
    
      <span class="previous">&larr; <a href="http://www.heguangnan.com/2015/07/09/go-go/" rel="prev">Go Go</a></span>
    
    
      <span class="next"><a href="http://www.heguangnan.com/2015/08/05/%E5%89%8D%E7%AB%AF%E7%BB%8F%E9%AA%8C/" rel="next">前端经验</a> &rarr;</span>
    
  </nav>


  
  <footer role="contentinfo">
    <div style="text-align:center;">
      <img src="/images/profile.png" width="64" height="64"><br>
      Written by Jet He
    </div>
  </footer>


</div>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>
</html>

